import { Callout } from "nextra-theme-docs";

# ichiyoAI

限界開発鯖で使用できるチャットAI.

[リポジトリ: approvers/ichiyoAI](https://github.com/approvers/ichiyoAI)

## 使い方

いずれも **ichiyoAIにアクセス権限が付与されているチャンネル・スレッド** でのみ有効です.

### チャットモード

`@ichiyoAI` とメンションにメッセージを添えて送信すると ichiyoAI から返信が返ってきます.

メンションはどこに添えても構いません. OpenAI API に渡される際にメンションは取り除かれます.

[返事モード](#返事モード) を使用しない限り, 会話のコンテキストは維持されず常に **一問一答** の状態で会話が進みます.

### 返事モード

ichiyoAI のメンションに対して返信すると, 返信モードになります.

このモードでは **返信元メッセージ + 返信メッセージ** の内容をコンテキストとして維持して会話を続けます. 会話と続ける限り半永久的にコンテキストが維持されます.

<Callout type={"warning"}>
    メンション付きの返信の場合, 例外なく ichiyoAI は返信します.
    不必要なメッセージはトークン節約の為 OFF にしてください.
</Callout>

## 使用されるモデル

使用されるモデルは [限界税](https://github.com/approvers/genkai-tax) 納付の有無で変わります.

- **納税者:** GPT-4
- **非納税者:** GPT-3.5

非納税者が GPT-4 のメッセージに対して返信モードを使用してもそれらのコンテキストを GPT-3.5 に送信します. 逆も然りです.

## 注意事項

- OpenAI API 側からのレスポンスの文字数が 2000 文字を超えた場合, Discord API の仕様上 ichiyoAI は返信せずに終了します.
- 現時点で、 OpenAI は API 経由での利用についてモデルのトレーニングには使用しないと明言していますが、機密情報等を送信することは避けてください。(ichiyoAI 側で会話のログ等は一切収集していませんが、一度 Discord API を経由しているため危険ではあります。)
- OpenAI API へリクエストを送ってから3分以上かかった場合は tokio により自動的にタイムアウトになります。もう一度送るか、内容を見直してみてください。
